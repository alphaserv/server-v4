<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>library/core/language/mod_class.lua</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css"><script language=JavaScript src="../../../javascript/main.js"></script><script language=JavaScript src="../../../javascript/prettify.js"></script><script language=JavaScript src="../../../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.51 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="library/core/language/mod_class.lua"></a>library/<wbr>core/<wbr>language/<wbr>mod_class.lua</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#library/core/language/mod_class.lua" >library/<wbr>core/<wbr>language/<wbr>mod_class.lua</a></td><td class=SDescription></td></tr><tr class="SGeneric SMarked"><td class=SEntry><a href="#Author" >Author</a></td><td class=SDescription>q66 <a href="#" onClick="location.href='mai' + 'lto:' + 'quak' + 'er66' + '@' + 'gmai' + 'l.com'; return false;" class=LEMail>quak<span style="display: none">.nosp@m.</span>er66<span>@</span>gmai<span style="display: none">.nosp@m.</span>l.com</a></td></tr><tr class="SGeneric"><td class=SEntry><a href="#Copyright" >Copyright</a></td><td class=SDescription>Copyright &copy; 2011 OctaForge project</td></tr><tr class="SGeneric SMarked"><td class=SEntry><a href="#License" >License</a></td><td class=SDescription>This file is licensed under MIT. </td></tr><tr class="SGeneric"><td class=SEntry><a href="#Purpose" >Purpose</a></td><td class=SDescription>This file implements a class system for Lua with simple inheritance. </td></tr><tr class="SClass"><td class=SEntry><a href="#class" >class</a></td><td class=SDescription>A class library for Lua. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#class.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#class.new" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">new</a></td><td class=SDescription>Creates a new class. </td></tr><tr class="SClass"><td class=SEntry><a href="#object" >object</a></td><td class=SDescription>This is a base class from which every other class inherits. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#object.Variables" >Variables</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#object.name" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">name</a></td><td class=SDescription>This is the base object name. </td></tr><tr class="SVariable SIndent2"><td class=SEntry><a href="#object.__class_dict" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">__class_dict</a></td><td class=SDescription>Root &ldquo;class dictionary&rdquo;. </td></tr><tr class="SVariable SIndent2 SMarked"><td class=SEntry><a href="#object.class_metatable" >class_metatable</a></td><td class=SDescription>Object has its own metatable. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#object.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#object.__new" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">__new</a></td><td class=SDescription>This is called when we call the class. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#object.__sub_class" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">__sub_class</a></td><td class=SDescription>Inherits a class. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#object.is_a" id=link6 onMouseOver="ShowTip(event, 'tt6', 'link6')" onMouseOut="HideTip('tt6')">is_a</a></td><td class=SDescription>Checks if the object is an instance of a class. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#object.define_getter" id=link7 onMouseOver="ShowTip(event, 'tt7', 'link7')" onMouseOut="HideTip('tt7')">define_getter</a></td><td class=SDescription>Defines a getter for a class. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#object.define_setter" id=link8 onMouseOver="ShowTip(event, 'tt8', 'link8')" onMouseOut="HideTip('tt8')">define_setter</a></td><td class=SDescription>This functions exactly the same as <a href="#object.define_getter" class=LFunction id=link9 onMouseOver="ShowTip(event, 'tt7', 'link9')" onMouseOut="HideTip('tt7')">define_getter</a>, but the function takes always two arguments, that is, self and value, and optional third one, that is data.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#object.define_global_getter" id=link10 onMouseOver="ShowTip(event, 'tt9', 'link10')" onMouseOut="HideTip('tt9')">define_global_getter</a></td><td class=SDescription>Simillar to <a href="#object.define_getter" class=LFunction id=link11 onMouseOver="ShowTip(event, 'tt7', 'link11')" onMouseOut="HideTip('tt7')">define_getter</a>, with several differences. </td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#object.define_global_setter" id=link12 onMouseOver="ShowTip(event, 'tt10', 'link12')" onMouseOut="HideTip('tt10')">define_global_setter</a></td><td class=SDescription>See <a href="#object.define_setter" class=LFunction id=link13 onMouseOver="ShowTip(event, 'tt8', 'link13')" onMouseOut="HideTip('tt8')">define_setter</a> and <a href="#object.define_global_getter" class=LFunction id=link14 onMouseOver="ShowTip(event, 'tt9', 'link14')" onMouseOut="HideTip('tt9')">define_global_getter</a>. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#object.mixin" id=link15 onMouseOver="ShowTip(event, 'tt11', 'link15')" onMouseOut="HideTip('tt11')">mixin</a></td><td class=SDescription>Mixes a table inside the class. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Author"></a>Author</h3><div class=CBody><p>q66 <a href="#" onClick="location.href='mai' + 'lto:' + 'quak' + 'er66' + '@' + 'gmai' + 'l.com'; return false;" class=LEMail>quak<span style="display: none">.nosp@m.</span>er66<span>@</span>gmai<span style="display: none">.nosp@m.</span>l.com</a></p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Copyright"></a>Copyright</h3><div class=CBody><p>Copyright &copy; 2011 OctaForge project</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="License"></a>License</h3><div class=CBody><p>This file is licensed under MIT.&nbsp; See COPYING.txt for more information.</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Purpose"></a>Purpose</h3><div class=CBody><p>This file implements a class system for Lua with simple inheritance.&nbsp; It is inspired by &ldquo;middleclass&rdquo; class system for Lua, but not directly based on it.</p></div></div></div>

<div class="CClass"><div class=CTopic><h2 class=CTitle><a name="class"></a>class</h2><div class=CBody><p>A class library for Lua.&nbsp; Allows instances, parent calling and simple inheritance.</p><p>Multiple inheritance isn&rsquo;t and won&rsquo;t be probably supported.&nbsp; This class system also allows getters / setters for virtual class members and general getter / setter overrides.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#class.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#class.new" id=link16 onMouseOver="ShowTip(event, 'tt1', 'link16')" onMouseOut="HideTip('tt1')">new</a></td><td class=SDescription>Creates a new class. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="class.Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="class.new"></a>new</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function new(</td><td class="PParameter  prettyprint " nowrap>base,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>mixin,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>name</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Creates a new class.&nbsp; You can then create instance of the class by calling output of this.</p><h4 class=CHeading>Example</h4><blockquote><pre class="prettyprint">A = class.new(nil, {
    __tostring = function(self)
        return self.name
    end
})
instance = A()
n = tostring(instance) -- this is &lt;UNNAMED&gt;

B = class.new(A, {
    dofoo = function(self)
        print(self.a)
    end
}, &quot;foo&quot;)
B.a = 150

instance = B()

n = tostring(instance) -- this is foo
instance:dofoo() -- prints 10</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>base</td><td class=CDLDescription>the base class this one inherits from.&nbsp; Can be nil.&nbsp; Inherited class contains all methods and members of base class.</td></tr><tr><td class=CDLEntry>mixin</td><td class=CDLDescription>a table containing methods and members that are new in your class.&nbsp; It can as well be nil and you can define the members later, after calling this.&nbsp; If this is string, the function assumes you&rsquo;re providing name as the second argument, that mostly means you don&rsquo;t want mixin but you want your class named.</td></tr><tr><td class=CDLEntry>name</td><td class=CDLDescription>the class name.&nbsp; It is then available under &ldquo;name&rdquo; class member.&nbsp; It defaults to &ldquo;&lt;UNNAMED&gt;&rdquo;.</td></tr></table></div></div></div>

<div class="CClass"><div class=CTopic><h2 class=CTitle><a name="object"></a>object</h2><div class=CBody><p>This is a base class from which every other class inherits.&nbsp; It provides certain basic members and also has metatable set up, so required metamethods work.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#object.Variables" >Variables</a></td><td class=SDescription></td></tr><tr class="SVariable SIndent1 SMarked"><td class=SEntry><a href="#object.name" id=link17 onMouseOver="ShowTip(event, 'tt2', 'link17')" onMouseOut="HideTip('tt2')">name</a></td><td class=SDescription>This is the base object name. </td></tr><tr class="SVariable SIndent1"><td class=SEntry><a href="#object.__class_dict" id=link18 onMouseOver="ShowTip(event, 'tt3', 'link18')" onMouseOut="HideTip('tt3')">__class_dict</a></td><td class=SDescription>Root &ldquo;class dictionary&rdquo;. </td></tr><tr class="SVariable SIndent1 SMarked"><td class=SEntry><a href="#object.class_metatable" >class_metatable</a></td><td class=SDescription>Object has its own metatable. </td></tr><tr class="SGroup"><td class=SEntry><a href="#object.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#object.__new" id=link19 onMouseOver="ShowTip(event, 'tt4', 'link19')" onMouseOut="HideTip('tt4')">__new</a></td><td class=SDescription>This is called when we call the class. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#object.__sub_class" id=link20 onMouseOver="ShowTip(event, 'tt5', 'link20')" onMouseOut="HideTip('tt5')">__sub_class</a></td><td class=SDescription>Inherits a class. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#object.is_a" id=link21 onMouseOver="ShowTip(event, 'tt6', 'link21')" onMouseOut="HideTip('tt6')">is_a</a></td><td class=SDescription>Checks if the object is an instance of a class. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#object.define_getter" id=link22 onMouseOver="ShowTip(event, 'tt7', 'link22')" onMouseOut="HideTip('tt7')">define_getter</a></td><td class=SDescription>Defines a getter for a class. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#object.define_setter" id=link23 onMouseOver="ShowTip(event, 'tt8', 'link23')" onMouseOut="HideTip('tt8')">define_setter</a></td><td class=SDescription>This functions exactly the same as <a href="#object.define_getter" class=LFunction id=link24 onMouseOver="ShowTip(event, 'tt7', 'link24')" onMouseOut="HideTip('tt7')">define_getter</a>, but the function takes always two arguments, that is, self and value, and optional third one, that is data.</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#object.define_global_getter" id=link25 onMouseOver="ShowTip(event, 'tt9', 'link25')" onMouseOut="HideTip('tt9')">define_global_getter</a></td><td class=SDescription>Simillar to <a href="#object.define_getter" class=LFunction id=link26 onMouseOver="ShowTip(event, 'tt7', 'link26')" onMouseOut="HideTip('tt7')">define_getter</a>, with several differences. </td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#object.define_global_setter" id=link27 onMouseOver="ShowTip(event, 'tt10', 'link27')" onMouseOut="HideTip('tt10')">define_global_setter</a></td><td class=SDescription>See <a href="#object.define_setter" class=LFunction id=link28 onMouseOver="ShowTip(event, 'tt8', 'link28')" onMouseOut="HideTip('tt8')">define_setter</a> and <a href="#object.define_global_getter" class=LFunction id=link29 onMouseOver="ShowTip(event, 'tt9', 'link29')" onMouseOut="HideTip('tt9')">define_global_getter</a>. </td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#object.mixin" id=link30 onMouseOver="ShowTip(event, 'tt11', 'link30')" onMouseOut="HideTip('tt11')">mixin</a></td><td class=SDescription>Mixes a table inside the class. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="object.Variables"></a>Variables</h3></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="object.name"></a>name</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">object.name</td></tr></table></blockquote><p>This is the base object name.&nbsp; It&rsquo;s unused in all child classes, since those are either &ldquo;&lt;UNNAMED&gt;&rdquo; or have their own name.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="object.__class_dict"></a>__class_dict</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">object.__class_dict</td></tr></table></blockquote><p>Root &ldquo;class dictionary&rdquo;.&nbsp; Contains default constructor and default __tostring for instance (which returns &ldquo;instance: NAME&rdquo;).&nbsp; It also has __index metamethod, which it sets to itself.</p></div></div></div>

<div class="CVariable"><div class=CTopic><h3 class=CTitle><a name="object.class_metatable"></a>class_metatable</h3><div class=CBody><p>Object has its own metatable.&nbsp; It&rsquo;s in fact unnamed.&nbsp; It sets __index to <a href="#object.__class_dict" class=LVariable id=link31 onMouseOver="ShowTip(event, 'tt3', 'link31')" onMouseOut="HideTip('tt3')">__class_dict</a>, __newindex to the same, __call to <a href="#object.__new" class=LFunction id=link32 onMouseOver="ShowTip(event, 'tt4', 'link32')" onMouseOut="HideTip('tt4')">__new</a> so you can create instances by calling the class and also __tostring for class (not for instance).</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="object.Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="object.__new"></a>__new</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:__new(</td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>This is called when we call the class.&nbsp; It&rsquo;s sort of &ldquo;root constructor&rdquo;.&nbsp; It sets up metatables properly as well as metamethods for indexing with getter support and setting indexes with setter support.</p><p>Also sets up internal storages for getters and setters and finally, calls class&rsquo; own constructor.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>...</td><td class=CDLDescription>constructor arguments</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="object.__sub_class"></a>__sub_class</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:__sub_class(</td><td class="PParameter  prettyprint " nowrap>name</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Inherits a class.&nbsp; Returns inherited class.&nbsp; Makes sure everything is properly inherited, sets up default constructor (calls parent), metamethod handlers (__tostring) and naming.</p><p>Shouldn&rsquo;t be called alone.&nbsp; See <a href="#class.new" class=LFunction id=link33 onMouseOver="ShowTip(event, 'tt1', 'link33')" onMouseOut="HideTip('tt1')">class.new</a>.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>name of the new class.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="object.is_a"></a>is_a</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:is_a(</td><td class="PParameter  prettyprint " nowrap>class</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Checks if the object is an instance of a class.&nbsp; Instances of child classes are also instances of parent classes!</p><p>Returns true if object is an instance of given class, false otherwise.</p><h4 class=CHeading>Example</h4><blockquote><pre class="prettyprint">A = class.new()
B = class.new(A)
C = class.new(B)
D = class.new(C)
E = class.new(D)
F = class.new(E)

inst = E();

local r;
r = inst:is_a(A) -- true
r = inst:is_a(B) -- true
r = inst:is_a(C) -- true
r = inst:is_a(D) -- true
r = inst:is_a(E) -- true
r = inst:is_a(F) -- false</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>class</td><td class=CDLDescription>the class to check against.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="object.define_getter"></a>define_getter</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:define_getter(</td><td class="PParameter  prettyprint " nowrap>key,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>fun,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>data</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Defines a getter for a class.&nbsp; Getter basically simulates a class member, but instead of returning the class member, it returns output of given getter function.&nbsp; You can pass one extra argument which will be always passed to the getter function as data.</p><p>See also <a href="#object.define_setter" class=LFunction id=link34 onMouseOver="ShowTip(event, 'tt8', 'link34')" onMouseOut="HideTip('tt8')">define_setter</a> which has simillar usage.</p><h4 class=CHeading>Example</h4><blockquote><pre class="prettyprint">A = class.new(nil, {
    data = 150,

    __init = function(self)
        -- self.data as data doesn't make much
        -- sense here, since we always have access
        -- to self, but it's just an example
        self:define_getter(
            &quot;foo&quot;,
            function(self, data)
                return data * 2
            end,
            self.data
        )
    end
})
B = class.new(A, { data = 200 })

inst = B()
print(B.foo) -- prints 400</pre></blockquote><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>key</td><td class=CDLDescription>name of the virtual member.</td></tr><tr><td class=CDLEntry>fun</td><td class=CDLDescription>function taking at least one argument (self) and optionally a second one (data) that returns some value.</td></tr><tr><td class=CDLEntry>data</td><td class=CDLDescription>optional second argument to getter function.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="object.define_setter"></a>define_setter</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:define_setter(</td><td class="PParameter  prettyprint " nowrap>key,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>fun,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>data</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>This functions exactly the same as <a href="#object.define_getter" class=LFunction id=link35 onMouseOver="ShowTip(event, 'tt7', 'link35')" onMouseOut="HideTip('tt7')">define_getter</a>, but the function takes always two arguments, that is, self and value, and optional third one, that is data.</p><p>The function doesn&rsquo;t have to return anything and any return value will be ignored.&nbsp; It&rsquo;s called when you attempt to set the member previously defined by setter.&nbsp; The value argument to setter function is the one after assignment operator.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="object.define_global_getter"></a>define_global_getter</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:define_global_getter(</td><td class="PParameter  prettyprint " nowrap>cond,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>fun</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Simillar to <a href="#object.define_getter" class=LFunction id=link36 onMouseOver="ShowTip(event, 'tt7', 'link36')" onMouseOut="HideTip('tt7')">define_getter</a>, with several differences.&nbsp; It does not allow to pass custom data.&nbsp; You don&rsquo;t give it any key either.&nbsp; You give it two functions instead.&nbsp; The first function is called when you&rsquo;re trying to get any member.&nbsp; It gets exactly one argument, and that is the key.&nbsp; It evaluates the key and returns true if the getter should be called, and false otherwise.</p><p>If it returns true, then the second function, actual getter, gets called.&nbsp; It accepts two arguments, self, and the key you were trying to get, and returns the appropriate value.</p><p>Global getters allow to simply define getter for a range of keys (i.e. range of numbers) without writing separate getter for each.</p><p>See also <a href="#object.define_global_setter" class=LFunction id=link37 onMouseOver="ShowTip(event, 'tt10', 'link37')" onMouseOut="HideTip('tt10')">define_global_setter</a>.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>cond</td><td class=CDLDescription>the function that evaluates the key.</td></tr><tr><td class=CDLEntry>fun</td><td class=CDLDescription>the function that returns the value.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="object.define_global_setter"></a>define_global_setter</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:define_global_setter(</td><td class="PParameter  prettyprint " nowrap>cond,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>fun</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>See <a href="#object.define_setter" class=LFunction id=link38 onMouseOver="ShowTip(event, 'tt8', 'link38')" onMouseOut="HideTip('tt8')">define_setter</a> and <a href="#object.define_global_getter" class=LFunction id=link39 onMouseOver="ShowTip(event, 'tt9', 'link39')" onMouseOut="HideTip('tt9')">define_global_getter</a>.&nbsp; It&rsquo;s basically exactly the same, including arguments to this function.&nbsp; The difference is that the function that evaluates things does not get only key, but also a value as second argument and the setter itself gets the value as third argument (after self and key).</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="object.mixin"></a>mixin</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:mixin(</td><td class="PParameter  prettyprint " nowrap>mixin_t</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Mixes a table inside the class.&nbsp; Mixin is basically an associative table containing any members.&nbsp; It&rsquo;ll get looped and its members will get assigned to the class.</p><p>Mixins can also be a limited replacement to multiple inheritance.&nbsp; When you pass a class as a mixin, it&rsquo;ll get merged, including all its parent classes.</p><p>Not all elements of class will get mixed in though; functions prefixed with __ will get skipped (that is, metamethods, constructors ..), certain core methods (such as <a href="#object.define_getter" class=LFunction id=link40 onMouseOver="ShowTip(event, 'tt7', 'link40')" onMouseOut="HideTip('tt7')">define_getter</a> or <a href="#object.is_a" class=LFunction id=link41 onMouseOver="ShowTip(event, 'tt6', 'link41')" onMouseOut="HideTip('tt6')">is_a</a>) will get skipped as well.</p><p>If mixed in class provides something that is also provided by its parent class, more recent member is preferred (only the member from child class will get merged).</p><p>Please note that when mixing in a normal non-class table, everything, including possible metamethods, will get merged.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>mixin_t</td><td class=CDLDescription>a raw table or a class.</td></tr></table></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">As</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="../../as/component-lua.html">component.lua</a></div></div><div class=MEntry><div class=MFile><a href="../../as/table-lua.html">table.lua</a></div></div><div class=MEntry><div class=MFile><a href="../../as/core-lua.html">core.lua</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent3')">Components</a><div class=MGroupContent id=MGroupContent3><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">db</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile><a href="../../components/db/init-lua.html">init.lua</a></div></div><div class=MEntry><div class=MFile><a href="../../components/db/connection-lua.html">connection.lua</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent4')">Package</a><div class=MGroupContent id=MGroupContent4><div class=MEntry><div class=MFile id=MSelected>mod_class.lua</div></div><div class=MEntry><div class=MFile><a href="mod_conv-lua.html">mod_conv.lua</a></div></div><div class=MEntry><div class=MFile><a href="mod_math-lua.html">mod_math.lua</a></div></div><div class=MEntry><div class=MFile><a href="mod_string-lua.html">mod_string.lua</a></div></div><div class=MEntry><div class=MFile><a href="mod_table-lua.html">mod_table.lua</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent6')">Alphaserv</a><div class=MGroupContent id=MGroupContent6><div class=MEntry><div class=MFile><a href="../../alphaserv/packages/irc_L/chan_obj-lua.html">chan_obj.lua</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent5')">Core</a><div class=MGroupContent id=MGroupContent5><div class=MEntry><div class=MFile><a href="../../alphaserv/core/general-lua.html">general.lua</a></div></div><div class=MEntry><div class=MFile><a href="../../alphaserv/core/logging-lua.html">logging.lua</a></div></div><div class=MEntry><div class=MFile><a href="../../alphaserv/core/package-lua.html">package.lua</a></div></div><div class=MEntry><div class=MFile><a href="../../alphaserv/core/settings-lua.html">settings.lua</a></div></div><div class=MEntry><div class=MFile><a href="../../alphaserv/core/user-lua.html">user.lua</a></div></div><div class=MEntry><div class=MFile><a href="../../alphaserv/core/user_base-lua.html">user_base.lua</a></div></div></div></div></div><div class=MEntry><div class=MFile><a href="../../alphaserv/packages/irc_L/network_obj-lua.html">network_obj.lua</a></div></div></div></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent7')">Index</a><div class=MGroupContent id=MGroupContent7><div class=MEntry><div class=MIndex><a href="../../../index/General.html">Everything</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Classes.html">Classes</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Files.html">Files</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Functions.html">Functions</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Properties.html">Properties</a></div></div><div class=MEntry><div class=MIndex><a href="../../../index/Variables.html">Variables</a></div></div></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Classes">Classes</option><option value="Files">Files</option><option value="Functions">Functions</option><option value="Properties">Properties</option><option value="Variables">Variables</option></select></div><script language=JavaScript><!--
HideAllBut([4, 6, 3, 7, 1], 8);// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function new(</td><td class="PParameter  prettyprint " nowrap>base,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>mixin,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>name</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Creates a new class. </div></div><div class=CToolTip id="tt2"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">object.name</td></tr></table></blockquote>This is the base object name. </div></div><div class=CToolTip id="tt3"><div class=CVariable><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">object.__class_dict</td></tr></table></blockquote>Root &ldquo;class dictionary&rdquo;. </div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:__new(</td><td class="PParameter  prettyprint " nowrap>...</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This is called when we call the class. </div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:__sub_class(</td><td class="PParameter  prettyprint " nowrap>name</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Inherits a class. </div></div><div class=CToolTip id="tt6"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:is_a(</td><td class="PParameter  prettyprint " nowrap>class</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Checks if the object is an instance of a class. </div></div><div class=CToolTip id="tt7"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:define_getter(</td><td class="PParameter  prettyprint " nowrap>key,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>fun,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>data</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Defines a getter for a class. </div></div><div class=CToolTip id="tt8"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:define_setter(</td><td class="PParameter  prettyprint " nowrap>key,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>fun,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>data</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>This functions exactly the same as define_getter, but the function takes always two arguments, that is, self and value, and optional third one, that is data.</div></div><div class=CToolTip id="tt9"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:define_global_getter(</td><td class="PParameter  prettyprint " nowrap>cond,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>fun</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Simillar to define_getter, with several differences. </div></div><div class=CToolTip id="tt10"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:define_global_setter(</td><td class="PParameter  prettyprint " nowrap>cond,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>fun</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>See define_setter and define_global_getter. </div></div><div class=CToolTip id="tt11"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>function object:mixin(</td><td class="PParameter  prettyprint " nowrap>mixin_t</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Mixes a table inside the class. </div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>